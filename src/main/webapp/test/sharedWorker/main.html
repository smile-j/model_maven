<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="out"></div>
<input type="text" name="" id="txt">
<button id="btn">发送</button>
<script type="text/javascript">
    var out = document.getElementById("out");
    var btn = document.getElementById("btn");
    var txt = document.getElementById("txt");
    var worker1 = new Worker("thread1.js");
    var worker2 = new Worker("thread2.js");

    btn.addEventListener("click", function () {
        var postData = txt.value;
        worker1.postMessage(postData);
        worker1.postMessage(postData + ':sb');
    }, false);
    worker1.addEventListener('message', function (e) {
        console.log('111');
        out.innerText = out.innerText + e.data;
    }, false);
    worker2.addEventListener('message', function (e) {
        console.log('111');
        out.innerText = out.innerText + e.data;
    }, false);

    //    btn.addEventListener("click",function(){
    //        var postData = txt.value;
    //        worker1.postMessage(postData);
    //    },false);
    //    worker1.addEventListener('message',function(e){
    //        worker2.postMessage(e.data);
    //
    //    },false);
    //    worker2.addEventListener('message',function(e){
    //        out.innerText = e.data;
    //    },false);
</script>
</body>
</html>